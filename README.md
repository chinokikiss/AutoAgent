# AutoAgent - 一个完全免费的多智能体自动化工作流系统

> 🎉 **完全免费，开箱即用！**  
本项目基于 **魔搭社区（ModelScope）API** 构建，**无需任何付费**即可使用全部功能。魔搭社区为每位用户提供 **每日 2000 次免费 API 调用**，对于本系统日常使用而言绰绰有余，**几乎永远不会触达上限**。无论你是学生、研究者还是开发者，都可以零成本部署和运行 AutoAgent，享受多智能体协同自动化带来的效率飞跃！

---

## 核心组件

### AutoAgent（主控智能体）

作为系统的调度核心，AutoAgent 负责解析用户输入的任务需求，生成结构化的工作流图（Mermaid 格式），并在用户确认后协调各子智能体按流程执行任务。主要功能 包括：

- 自动分析自然语言任务需求
- 生成 Mermaid 描述的工作流示意图
- 支持根据用户反馈修改工作流结构
- 统一调度 GUIAgent、CLIAgent 和 WebAgent
- 提供命令行交互接口，支持动态控制与状态查询

### GUIAgent（图形界面自动化智能体）

负责在操作系统层面模拟用户操作。其能力基于屏幕识别与自动化控制技术，可实现：

- 鼠标点击、键盘输入等操作模拟
- 桌面应用程序界面自动化
- 网页表单填写、弹窗处理等 UI 交互任务

### CLIAgent（命令行与代码执行智能体）

CLIAgent 并非直接操作终端，而是执行 Python 代码片段，完成数据处理与内容生成类任务，支持以下功能：

- 编写和运行小型 Python 项目
- 使用 Matplotlib、Seaborn 等库生成数据可视化图表
- 创建和编辑 Word 文档
- 文件系统操作（整理、重命名、归档等）
- 图像文件的内容识别与基本分析

### WebAgent（网络信息检索智能体）

集成 Bing 搜索引擎，专注于从互联网获取公开信息，功能包括：

- 关键词驱动的网页内容检索
- 学术论文与技术资料的收集
- 自动访问指定链接并提取文本内容
- 网站内部页面跳转
- 爬取图片、视频等网络资源

---

## 安装说明

请按照以下步骤配置运行环境。

### 1. 系统依赖

确保已安装以下基础环境：

- Node.js
- Python

### 2. 安装 Python 依赖包

```bash
pip install -r requirements.txt
```

### 3. 安装 Playwright 浏览器驱动

WebAgent 依赖 Playwright 进行浏览器自动化，请运行以下命令安装所需浏览器二进制文件：

```bash
playwright install
```

### 4. 安装 Mermaid CLI 工具

用于将 Mermaid 工作流代码渲染为图像文件，便于查看流程结构：

```bash
npm install -g @mermaid-js/mermaid-cli
```

### 5. 配置 API 密钥

打开项目根目录下的配置文件 `config.toml`，找到如下字段：

```toml
api_key = ""
```

将魔搭社区（ModelScope）获取的 API Key 填入引号中，其他配置项保持默认即可。

---

## 启动方式

完成依赖安装后，可通过以下任一方式启动系统：

### 方法一：使用批处理脚本（Windows）

```bash
run.bat
```

### 方法二：直接运行主程序

```bash
python main.py
```

程序启动后将进入命令行交互模式，用户可输入任务描述开始使用。

---

## 使用流程

1. **输入任务描述**
   在命令行中输入自然语言任务需求，例如：
   > “请查找近期关于大模型推理优化的研究论文，并生成一份总结报告。”

2. **查看生成的工作流图**
   AutoAgent 将自动生成 Mermaid 格式的工作流图，并将其渲染为图片文件弹出显示，供用户审查流程逻辑。

3. **确认或修改工作流**
   - 若流程不符合预期，可提出修改意见，例如：“应先进行网络搜索再做判断”。
   - 若流程正确，输入 `run` 命令或回复“继续执行”以启动任务。

4. **监控智能体执行过程**
   各智能体将在独立的命令行窗口中运行，用户可实时观察其输出日志，必要时进行人工确认或干预。

5. **接收任务完成通知**
   任务完成后，系统将在操作系统右下角弹出通知。

6. **查询结果**
   系统不会自动输出最终结果。需主动向 AutoAgent 提问，AutoAgent 会整理好结果输出最终回答

---

## 内置命令

在主命令行界面中支持以下指令：

| 命令         | 说明                           |
|--------------|--------------------------------|
| `cd <路径>`  | 设置 CLIAgent 的当前工作目录   |
| `clear`      | 清除当前对话上下文             |
| `run`        | 立即执行已生成的工作流         |

---

## 典型应用案例

- 数据采集、清洗、可视化与报告生成（WebAgent + CLIAgent）
- 桌面软件或网页系统的自动化测试与操作（GUIAgent）
- 学术研究辅助：文献检索、资料整理与综述撰写
- 批量文件管理与文档自动生成

---